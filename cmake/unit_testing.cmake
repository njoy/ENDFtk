#######################################################################
# Setup
#######################################################################

enable_testing()

FetchContent_MakeAvailable( Catch2 )

function( add_cpp_test name source )

  set( test_name "ENDFtk.${name}.test" )
  add_executable( ${test_name} ${source} )
  add_test( NAME ${test_name} COMMAND ${test_name} )
  target_link_libraries( ${test_name} PRIVATE ENDFtk )
  target_link_libraries( ${test_name} PRIVATE Catch2::Catch2WithMain )

  file( GLOB resources "resources/*" )
  foreach( resource ${resources} )
    file( COPY "${resource}" DESTINATION "${CMAKE_CURRENT_BINARY_DIR}" )
  endforeach()

endfunction()

#######################################################################
# Unit testing directories
#######################################################################

message( STATUS "Adding ENDFtk C++ unit testing" )

# missing tests
#add_subdirectory( src/ENDFtk/file/32/test )
#add_subdirectory( src/ENDFtk/file/Base/test )
#add_subdirectory( src/ENDFtk/record/IntegerBase/test )
#add_subdirectory( src/ENDFtk/section/2/151/BreitWignerReichMooreBase/test )
#add_subdirectory( src/ENDFtk/section/2/151/BreitWignerReichMooreLValueBase/test )
#add_subdirectory( src/ENDFtk/section/2/151/ResonanceRange/test )
#add_subdirectory( src/ENDFtk/section/2/151/UnresolvedBase/test )
#add_subdirectory( src/ENDFtk/section/2/151/UnresolvedBaseWithoutSpin/test )
#add_subdirectory( src/ENDFtk/section/2/151/UnresolvedLValueBase/test )
#add_subdirectory( src/ENDFtk/section/4/AngularDistributions/test )
#add_subdirectory( src/ENDFtk/section/32/CompactCovarianceBase/test )
#add_subdirectory( src/ENDFtk/section/32/GeneralCovarianceBase/test )
#add_subdirectory( src/ENDFtk/section/32/Isotope/test )
#add_subdirectory( src/ENDFtk/section/32/LimitedCovarianceBase/test )
#add_subdirectory( src/ENDFtk/section/32/ResonanceRange/test )
#add_subdirectory( src/ENDFtk/section/32/ShortRangeBreitWignerReichMooreBlockBase/test )
#add_subdirectory( src/ENDFtk/section/32/test )

add_subdirectory( src/ENDFtk/ControlRecord/test )
add_subdirectory( src/ENDFtk/DirectoryRecord/test )
add_subdirectory( src/ENDFtk/TapeIdentification/test )
add_subdirectory( src/ENDFtk/TabulationRecord/test )
add_subdirectory( src/ENDFtk/TextRecord/test )
add_subdirectory( src/ENDFtk/InterpolationRecord/test )
add_subdirectory( src/ENDFtk/ListRecord/test )
add_subdirectory( src/ENDFtk/record/Base/test )
add_subdirectory( src/ENDFtk/record/InterpolationBase/test )
add_subdirectory( src/ENDFtk/record/Sequence/test )
add_subdirectory( src/ENDFtk/record/Tail/test )
add_subdirectory( src/ENDFtk/record/Zipper/test )
add_subdirectory( src/ENDFtk/record/test )
add_subdirectory( src/ENDFtk/HeadRecord/test )
add_subdirectory( src/ENDFtk/InterpolationSequenceRecord/test )
add_subdirectory( src/ENDFtk/section/CovariancePairs/test )
add_subdirectory( src/ENDFtk/section/DerivedRatioToStandard/test )
add_subdirectory( src/ENDFtk/section/DerivedRedundant/test )
add_subdirectory( src/ENDFtk/section/ReactionBlock/test )
add_subdirectory( src/ENDFtk/section/RectangularMatrix/test )
add_subdirectory( src/ENDFtk/section/SquareMatrix/test )
add_subdirectory( src/ENDFtk/section/1/451/test )
add_subdirectory( src/ENDFtk/section/1/452/test )
add_subdirectory( src/ENDFtk/section/1/455/DecayConstants/test )
add_subdirectory( src/ENDFtk/section/1/455/EnergyDependentConstants/test )
add_subdirectory( src/ENDFtk/section/1/455/EnergyIndependentConstants/test )
add_subdirectory( src/ENDFtk/section/1/455/test )
add_subdirectory( src/ENDFtk/section/1/456/test )
add_subdirectory( src/ENDFtk/section/1/458/EnergyReleaseComponent/test )
add_subdirectory( src/ENDFtk/section/1/458/PolynomialComponents/test )
add_subdirectory( src/ENDFtk/section/1/458/TabulatedComponents/test )
add_subdirectory( src/ENDFtk/section/1/458/ThermalPointComponents/test )
add_subdirectory( src/ENDFtk/section/1/458/test )
add_subdirectory( src/ENDFtk/section/1/460/ContinuousPhotons/test )
add_subdirectory( src/ENDFtk/section/1/460/DiscretePhotonMultiplicity/test )
add_subdirectory( src/ENDFtk/section/1/460/DiscretePhotons/test )
add_subdirectory( src/ENDFtk/section/1/460/test )
add_subdirectory( src/ENDFtk/section/1/PolynomialMultiplicity/test )
add_subdirectory( src/ENDFtk/section/1/TabulatedMultiplicity/test )
#add_subdirectory( src/ENDFtk/section/2/151/BreitWignerLValue/Resonance/test )
#add_subdirectory( src/ENDFtk/section/2/151/BreitWignerLValue/test )
#add_subdirectory( src/ENDFtk/section/2/151/Isotope/test )
#add_subdirectory( src/ENDFtk/section/2/151/MultiLevelBreitWigner/test )
#add_subdirectory( src/ENDFtk/section/2/151/ReichMoore/test )
#add_subdirectory( src/ENDFtk/section/2/151/ReichMooreLValue/Resonance/test )
#add_subdirectory( src/ENDFtk/section/2/151/ReichMooreLValue/test )
#add_subdirectory( src/ENDFtk/section/2/151/RMatrixLimited/BackgroundChannels/test )
#add_subdirectory( src/ENDFtk/section/2/151/RMatrixLimited/FrohnerBackgroundRMatrix/test )
#add_subdirectory( src/ENDFtk/section/2/151/RMatrixLimited/NoBackgroundRMatrix/test )
#add_subdirectory( src/ENDFtk/section/2/151/RMatrixLimited/ParticlePairs/test )
#add_subdirectory( src/ENDFtk/section/2/151/RMatrixLimited/ResonanceChannels/test )
#add_subdirectory( src/ENDFtk/section/2/151/RMatrixLimited/ResonanceParameters/test )
#add_subdirectory( src/ENDFtk/section/2/151/RMatrixLimited/SammyBackgroundRMatrix/test )
#add_subdirectory( src/ENDFtk/section/2/151/RMatrixLimited/SpinGroup/test )
#add_subdirectory( src/ENDFtk/section/2/151/RMatrixLimited/TabulatedBackgroundRMatrix/test )
#add_subdirectory( src/ENDFtk/section/2/151/RMatrixLimited/test )
#add_subdirectory( src/ENDFtk/section/2/151/ScatteringRadius/test )
#add_subdirectory( src/ENDFtk/section/2/151/SingleLevelBreitWigner/test )
#add_subdirectory( src/ENDFtk/section/2/151/SpecialCase/test )
#add_subdirectory( src/ENDFtk/section/2/151/UnresolvedEnergyDependent/JValue/test )
#add_subdirectory( src/ENDFtk/section/2/151/UnresolvedEnergyDependent/LValue/test )
#add_subdirectory( src/ENDFtk/section/2/151/UnresolvedEnergyDependent/test )
#add_subdirectory( src/ENDFtk/section/2/151/UnresolvedEnergyDependentFissionWidths/JValue/test )
#add_subdirectory( src/ENDFtk/section/2/151/UnresolvedEnergyDependentFissionWidths/LValue/test )
#add_subdirectory( src/ENDFtk/section/2/151/UnresolvedEnergyDependentFissionWidths/test )
#add_subdirectory( src/ENDFtk/section/2/151/UnresolvedEnergyIndependent/JValue/test )
#add_subdirectory( src/ENDFtk/section/2/151/UnresolvedEnergyIndependent/LValue/test )
#add_subdirectory( src/ENDFtk/section/2/151/UnresolvedEnergyIndependent/test )
#add_subdirectory( src/ENDFtk/section/2/151/test )
#add_subdirectory( src/ENDFtk/section/2/152/test )
add_subdirectory( src/ENDFtk/section/3/test )
#add_subdirectory( src/ENDFtk/section/4/Isotropic/test )
#add_subdirectory( src/ENDFtk/section/4/LegendreCoefficients/test )
#add_subdirectory( src/ENDFtk/section/4/LegendreDistributions/test )
#add_subdirectory( src/ENDFtk/section/4/MixedDistributions/test )
#add_subdirectory( src/ENDFtk/section/4/TabulatedDistribution/test )
#add_subdirectory( src/ENDFtk/section/4/TabulatedDistributions/test )
#add_subdirectory( src/ENDFtk/section/4/test )
add_subdirectory( src/ENDFtk/section/5/DistributionFunction/test )
add_subdirectory( src/ENDFtk/section/5/EffectiveTemperature/test )
add_subdirectory( src/ENDFtk/section/5/EvaporationSpectrum/test )
add_subdirectory( src/ENDFtk/section/5/GeneralEvaporationSpectrum/test )
add_subdirectory( src/ENDFtk/section/5/MadlandNixSpectrum/test )
add_subdirectory( src/ENDFtk/section/5/MaxwellianFissionSpectrum/test )
add_subdirectory( src/ENDFtk/section/5/Parameter/test )
add_subdirectory( src/ENDFtk/section/5/PartialDistribution/test )
add_subdirectory( src/ENDFtk/section/5/Probability/test )
add_subdirectory( src/ENDFtk/section/5/TabulatedSpectrum/OutgoingEnergyDistribution/test )
add_subdirectory( src/ENDFtk/section/5/TabulatedSpectrum/test )
add_subdirectory( src/ENDFtk/section/5/WattSpectrum/test )
add_subdirectory( src/ENDFtk/section/5/test )
add_subdirectory( src/ENDFtk/section/6/ChargedParticleElasticScattering/LegendreCoefficients/test )
add_subdirectory( src/ENDFtk/section/6/ChargedParticleElasticScattering/NuclearAmplitudeExpansion/test )
add_subdirectory( src/ENDFtk/section/6/ChargedParticleElasticScattering/NuclearPlusInterference/test )
add_subdirectory( src/ENDFtk/section/6/ChargedParticleElasticScattering/test )
add_subdirectory( src/ENDFtk/section/6/ContinuumEnergyAngle/Base/test )
add_subdirectory( src/ENDFtk/section/6/ContinuumEnergyAngle/KalbachMann/test )
add_subdirectory( src/ENDFtk/section/6/ContinuumEnergyAngle/LegendreCoefficients/test )
add_subdirectory( src/ENDFtk/section/6/ContinuumEnergyAngle/TabulatedDistribution/test )
add_subdirectory( src/ENDFtk/section/6/ContinuumEnergyAngle/ThermalScatteringData/test )
add_subdirectory( src/ENDFtk/section/6/ContinuumEnergyAngle/test )
add_subdirectory( src/ENDFtk/section/6/DefinedElsewhere/test )
add_subdirectory( src/ENDFtk/section/6/DiscreteTwoBodyRecoils/test )
add_subdirectory( src/ENDFtk/section/6/DiscreteTwoBodyScattering/LegendreCoefficients/test )
add_subdirectory( src/ENDFtk/section/6/DiscreteTwoBodyScattering/TabulatedDistribution/test )
add_subdirectory( src/ENDFtk/section/6/DiscreteTwoBodyScattering/test )
add_subdirectory( src/ENDFtk/section/6/IsotropicDiscreteEmission/test )
add_subdirectory( src/ENDFtk/section/6/LaboratoryAngleEnergy/AngularDistribution/test )
add_subdirectory( src/ENDFtk/section/6/LaboratoryAngleEnergy/EnergyDistribution/test )
add_subdirectory( src/ENDFtk/section/6/LaboratoryAngleEnergy/test )
add_subdirectory( src/ENDFtk/section/6/Multiplicity/test )
add_subdirectory( src/ENDFtk/section/6/NBodyPhaseSpace/test )
add_subdirectory( src/ENDFtk/section/6/NoLawDataGiven/test )
add_subdirectory( src/ENDFtk/section/6/ReactionProduct/test )
add_subdirectory( src/ENDFtk/section/6/Unknown/test )
add_subdirectory( src/ENDFtk/section/6/test )
#add_subdirectory( src/ENDFtk/section/7/2/CoherentElastic/test )
#add_subdirectory( src/ENDFtk/section/7/2/IncoherentElastic/test )
#add_subdirectory( src/ENDFtk/section/7/2/MixedElastic/test )
#add_subdirectory( src/ENDFtk/section/7/2/test )
#add_subdirectory( src/ENDFtk/section/7/4/AnalyticalFunctions/test )
#add_subdirectory( src/ENDFtk/section/7/4/EffectiveTemperature/test )
#add_subdirectory( src/ENDFtk/section/7/4/ScatteringLawConstants/test )
#add_subdirectory( src/ENDFtk/section/7/4/TabulatedFunctions/ScatteringFunction/test )
#add_subdirectory( src/ENDFtk/section/7/4/TabulatedFunctions/test )
#add_subdirectory( src/ENDFtk/section/7/4/test )
#add_subdirectory( src/ENDFtk/section/7/451/ElementInformation/test )
#add_subdirectory( src/ENDFtk/section/7/451/test )
add_subdirectory( src/ENDFtk/section/8/454/test )
add_subdirectory( src/ENDFtk/section/8/457/AverageDecayEnergies/test )
add_subdirectory( src/ENDFtk/section/8/457/ContinuousSpectrum/test )
add_subdirectory( src/ENDFtk/section/8/457/DecayMode/test )
add_subdirectory( src/ENDFtk/section/8/457/DecayModes/test )
add_subdirectory( src/ENDFtk/section/8/457/DecaySpectrum/test )
add_subdirectory( src/ENDFtk/section/8/457/DiscreteSpectrum/test )
add_subdirectory( src/ENDFtk/section/8/457/test )
add_subdirectory( src/ENDFtk/section/8/459/test )
add_subdirectory( src/ENDFtk/section/8/FissionYieldData/FissionProduct/test )
add_subdirectory( src/ENDFtk/section/8/FissionYieldData/test )
add_subdirectory( src/ENDFtk/section/9/ReactionProduct/test )
add_subdirectory( src/ENDFtk/section/9/test )
add_subdirectory( src/ENDFtk/section/10/ReactionProduct/test )
add_subdirectory( src/ENDFtk/section/10/test )
add_subdirectory( src/ENDFtk/section/12/Multiplicities/test )
add_subdirectory( src/ENDFtk/section/12/PartialMultiplicity/test )
add_subdirectory( src/ENDFtk/section/12/TotalMultiplicity/test )
add_subdirectory( src/ENDFtk/section/12/TransitionProbabilities/Transition/test )
add_subdirectory( src/ENDFtk/section/12/TransitionProbabilities/test )
add_subdirectory( src/ENDFtk/section/12/test )
add_subdirectory( src/ENDFtk/section/13/PartialCrossSection/test )
add_subdirectory( src/ENDFtk/section/13/TotalCrossSection/test )
add_subdirectory( src/ENDFtk/section/13/test )
#add_subdirectory( src/ENDFtk/section/14/IsotropicDiscretePhoton/test )
#add_subdirectory( src/ENDFtk/section/14/LegendreCoefficients/test )
#add_subdirectory( src/ENDFtk/section/14/LegendreDistributions/test )
#add_subdirectory( src/ENDFtk/section/14/TabulatedDistribution/test )
#add_subdirectory( src/ENDFtk/section/14/TabulatedDistributions/test )
#add_subdirectory( src/ENDFtk/section/14/test )
add_subdirectory( src/ENDFtk/section/15/PartialDistribution/test )
add_subdirectory( src/ENDFtk/section/15/Probability/test )
add_subdirectory( src/ENDFtk/section/15/TabulatedSpectrum/OutgoingEnergyDistribution/test )
add_subdirectory( src/ENDFtk/section/15/TabulatedSpectrum/test )
add_subdirectory( src/ENDFtk/section/15/test )
add_subdirectory( src/ENDFtk/section/23/test )
add_subdirectory( src/ENDFtk/section/26/ContinuumEnergyAngle/LegendreCoefficients/test )
add_subdirectory( src/ENDFtk/section/26/ContinuumEnergyAngle/test )
add_subdirectory( src/ENDFtk/section/26/DiscreteTwoBodyScattering/TabulatedDistribution/test )
add_subdirectory( src/ENDFtk/section/26/DiscreteTwoBodyScattering/test )
add_subdirectory( src/ENDFtk/section/26/EnergyTransfer/test )
add_subdirectory( src/ENDFtk/section/26/Multiplicity/test )
add_subdirectory( src/ENDFtk/section/26/ReactionProduct/test )
add_subdirectory( src/ENDFtk/section/26/test )
add_subdirectory( src/ENDFtk/section/27/test )
add_subdirectory( src/ENDFtk/section/28/SubshellData/Transition/test )
add_subdirectory( src/ENDFtk/section/28/SubshellData/test )
add_subdirectory( src/ENDFtk/section/28/test )
add_subdirectory( src/ENDFtk/section/31/test )
#add_subdirectory( src/ENDFtk/section/32/151/CompactBreitWignerUncertainties/Resonance/test )
#add_subdirectory( src/ENDFtk/section/32/151/CompactBreitWignerUncertainties/test )
#add_subdirectory( src/ENDFtk/section/32/151/CompactCorrelationMatrix/test )
#add_subdirectory( src/ENDFtk/section/32/151/CompactMultiLevelBreitWigner/test )
#add_subdirectory( src/ENDFtk/section/32/151/CompactReichMoore/test )
#add_subdirectory( src/ENDFtk/section/32/151/CompactReichMooreUncertainties/Resonance/test )
#add_subdirectory( src/ENDFtk/section/32/151/CompactReichMooreUncertainties/test )
#add_subdirectory( src/ENDFtk/section/32/151/CompactRMatrixLimitedUncertainties/ParticlePairs/test )
#add_subdirectory( src/ENDFtk/section/32/151/CompactRMatrixLimitedUncertainties/ResonanceChannels/test )
#add_subdirectory( src/ENDFtk/section/32/151/CompactRMatrixLimitedUncertainties/ResonanceParameters/test )
#add_subdirectory( src/ENDFtk/section/32/151/CompactRMatrixLimitedUncertainties/SpinGroup/test )
#add_subdirectory( src/ENDFtk/section/32/151/CompactRMatrixLimitedUncertainties/test )
#add_subdirectory( src/ENDFtk/section/32/151/CompactRMatrixLimited/test )
#add_subdirectory( src/ENDFtk/section/32/151/CompactSingleLevelBreitWigner/test )
#add_subdirectory( src/ENDFtk/section/32/151/GeneralMultiLevelBreitWigner/test )
#add_subdirectory( src/ENDFtk/section/32/151/GeneralReichMoore/test )
#add_subdirectory( src/ENDFtk/section/32/151/GeneralRMatrixLimited/test )
#add_subdirectory( src/ENDFtk/section/32/151/GeneralSingleLevelBreitWigner/test )
#add_subdirectory( src/ENDFtk/section/32/151/LimitedBreitWignerLValue/Resonance/test )
#add_subdirectory( src/ENDFtk/section/32/151/LimitedBreitWignerLValue/test )
#add_subdirectory( src/ENDFtk/section/32/151/LimitedMultiLevelBreitWigner/test )
#add_subdirectory( src/ENDFtk/section/32/151/LimitedSingleLevelBreitWigner/test )
#add_subdirectory( src/ENDFtk/section/32/151/ReichMooreScatteringRadiusUncertainties/test )
#add_subdirectory( src/ENDFtk/section/32/151/ScatteringRadiusCovariances/test )
#add_subdirectory( src/ENDFtk/section/32/151/ShortRangeBreitWignerBlock/test )
#add_subdirectory( src/ENDFtk/section/32/151/ShortRangeReichMooreBlock/test )
#add_subdirectory( src/ENDFtk/section/32/151/ShortRangeRMatrixLimitedBlock/CovarianceMatrix/test )
#add_subdirectory( src/ENDFtk/section/32/151/ShortRangeRMatrixLimitedBlock/ResonanceParameters/test )
#add_subdirectory( src/ENDFtk/section/32/151/ShortRangeRMatrixLimitedBlock/test )
#add_subdirectory( src/ENDFtk/section/32/151/UnresolvedRelativeCovariances/CovarianceMatrix/test )
#add_subdirectory( src/ENDFtk/section/32/151/UnresolvedRelativeCovariances/JValue/test )
#add_subdirectory( src/ENDFtk/section/32/151/UnresolvedRelativeCovariances/LValue/test )
#add_subdirectory( src/ENDFtk/section/32/151/UnresolvedRelativeCovariances/test )
add_subdirectory( src/ENDFtk/section/33/test )
add_subdirectory( src/ENDFtk/section/34/LegendreBlock/test )
add_subdirectory( src/ENDFtk/section/34/ReactionBlock/test )
add_subdirectory( src/ENDFtk/section/34/test )
add_subdirectory( src/ENDFtk/section/35/SquareMatrix/test )
add_subdirectory( src/ENDFtk/section/35/test )
add_subdirectory( src/ENDFtk/section/40/LevelBlock/test )
add_subdirectory( src/ENDFtk/section/40/test )
add_subdirectory( src/ENDFtk/section/Base/test )
add_subdirectory( src/ENDFtk/section/BaseWithoutMT/test )
add_subdirectory( src/ENDFtk/file/1/test )
#add_subdirectory( src/ENDFtk/file/2/test )
#add_subdirectory( src/ENDFtk/file/7/test )
add_subdirectory( src/ENDFtk/file/8/test )
add_subdirectory( src/ENDFtk/file/Type/test )
#add_subdirectory( src/ENDFtk/Material/test )
add_subdirectory( src/ENDFtk/StructureDivision/test )
#add_subdirectory( src/ENDFtk/Tape/test )
add_subdirectory( src/ENDFtk/tree/File/test )
#add_subdirectory( src/ENDFtk/tree/Material/test )
add_subdirectory( src/ENDFtk/tree/Section/test )
#add_subdirectory( src/ENDFtk/tree/Tape/test )
#add_subdirectory( src/ENDFtk/tree/test )
